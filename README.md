# Подписочный сервис (SSTA - Subscription service by Tosha & Alex)

Разработали студенты группы М8О-109СВ-24: Батов Алексей, Комиссаров Антон

---

Задача: реализовать систему получения и оплаты подписок для онлайн-кинотеатра. 

История задачи: Мы с вами живем в мире подписок: на Yandex музыку, на Кинопоиск, на VK музыку и на многое-многое другое. Мы оплачиваем разными средствами и иногда деньги сами списываются с карточки и это порой удобно. Так подумали в сервисе “Фильмы 8 института” и решили прикрутить к себе подписочный сервис. Ваша задача помочь им в этих стремлениях.

---

## Требования

1. Реализовать функционал работы с подпиской: оформление, изменение, отмена.
2. Поддерживать различные тарифы (стандарт - базовый доступ, премиум - доступ без рекламы, семейный - несколько профилей с доп. функциями).
3. Реализовать автоматическое обновление подписки при соответствующей опции. Поддержка планов: разовый, ежемесячный, годовой.
4. Реализовать функционал оплаты подписок.
5. Система нотификаций для пользователей о предстоящих списаниях средств и о статусах платежей.
6. Просмотр истории оплат и подписок.

## Архитектура

- Контейнер с самим сервисом (Python - FastAPI) - порт 8000
- БД (PostgreSQL) - порт 5432
- Контейнер с автотестами (Python - pytest)

## Инструкция по работе с продуктом

1. Собрать образы (при первом запуске):
   - make full_build
2. При необходимости изменить настройки в .env
3. Запустить продукт:
   - make up <shared=[true/false] - опционально>
   - Если shared=true, то порты сервиса и БД пробрасываются наружу, а также шарятся папки с сервисом и автотестами в соответствующие контейнеры
4. Прогнать автотесты:
   - make test <tests_path=[путь относительно директории autotests, по умолчанию: tests] - опционально>